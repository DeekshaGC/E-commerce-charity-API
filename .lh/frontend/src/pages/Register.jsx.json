{
    "sourceFile": "frontend/src/pages/Register.jsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 7,
            "patches": [
                {
                    "date": 1758771961070,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1758813294031,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,107 @@\n-import React from 'react'\r\n+import { useState } from \"react\";\r\n+import api from \"../services/api\";\r\n+import { useNavigate } from \"react-router-dom\";\r\n \r\n-const Register = () => {\r\n+function Register() {\r\n+  const [formData, setFormData] = useState({\r\n+    name: \"\",\r\n\\ No newline at end of file\n+    email: \"\",\r\n+    password: \"\",\r\n+    role: \"user\", // default role\r\n+  });\r\n+\r\n+  const [error, setError] = useState(\"\");\r\n+  const navigate = useNavigate();\r\n+\r\n+  const handleChange = (e) => {\r\n+    setFormData({ ...formData, [e.target.name]: e.target.value });\r\n+  };\r\n+\r\n+  const handleSubmit = async (e) => {\r\n+    e.preventDefault();\r\n+    setError(\"\");\r\n+\r\n+    try {\r\n+      const res = await api.post(\"/auth/register\", formData);\r\n+      console.log(\"Registered:\", res.data);\r\n+\r\n+      // redirect to login page\r\n+      navigate(\"/login\");\r\n+    } catch (err) {\r\n+      setError(err.response?.data?.message || \"Registration failed\");\r\n+    }\r\n+  };\r\n+\r\n   return (\r\n-    <div>Register</div>\r\n-  )\r\n+    <div className=\"flex justify-center items-center h-screen bg-gray-100\">\r\n+      <form\r\n+        onSubmit={handleSubmit}\r\n+        className=\"bg-white p-8 rounded-xl shadow-md w-96\"\r\n+      >\r\n+        <h2 className=\"text-2xl font-bold mb-6 text-center\">Register</h2>\r\n+\r\n+        {error && <p className=\"text-red-500 mb-4\">{error}</p>}\r\n+\r\n+        <div className=\"mb-4\">\r\n+          <label className=\"block mb-1 font-medium\">Name</label>\r\n+          <input\r\n+            type=\"text\"\r\n+            name=\"name\"\r\n+            onChange={handleChange}\r\n+            value={formData.name}\r\n+            required\r\n+            className=\"w-full p-2 border rounded-lg\"\r\n+          />\r\n+        </div>\r\n+\r\n+        <div className=\"mb-4\">\r\n+          <label className=\"block mb-1 font-medium\">Email</label>\r\n+          <input\r\n+            type=\"email\"\r\n+            name=\"email\"\r\n+            onChange={handleChange}\r\n+            value={formData.email}\r\n+            required\r\n+            className=\"w-full p-2 border rounded-lg\"\r\n+          />\r\n+        </div>\r\n+\r\n+        <div className=\"mb-4\">\r\n+          <label className=\"block mb-1 font-medium\">Password</label>\r\n+          <input\r\n+            type=\"password\"\r\n+            name=\"password\"\r\n+            onChange={handleChange}\r\n+            value={formData.password}\r\n+            required\r\n+            className=\"w-full p-2 border rounded-lg\"\r\n+          />\r\n+        </div>\r\n+\r\n+        {/* Role selection (optional for superadmin setup) */}\r\n+        <div className=\"mb-4\">\r\n+          <label className=\"block mb-1 font-medium\">Role</label>\r\n+          <select\r\n+            name=\"role\"\r\n+            onChange={handleChange}\r\n+            value={formData.role}\r\n+            className=\"w-full p-2 border rounded-lg\"\r\n+          >\r\n+            <option value=\"user\">User</option>\r\n+            <option value=\"admin\">Admin</option>\r\n+            <option value=\"superadmin\">Super Admin</option>\r\n+          </select>\r\n+        </div>\r\n+\r\n+        <button\r\n+          type=\"submit\"\r\n+          className=\"w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition\"\r\n+        >\r\n+          Register\r\n+        </button>\r\n+      </form>\r\n+    </div>\r\n+  );\r\n }\r\n \r\n-export default Register\n+export default Register;\r\n"
                },
                {
                    "date": 1758813328970,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -6,9 +6,9 @@\n   const [formData, setFormData] = useState({\r\n     name: \"\",\r\n     email: \"\",\r\n     password: \"\",\r\n-    role: \"user\", // default role\r\n+    role: \"user\", \r\n   });\r\n \r\n   const [error, setError] = useState(\"\");\r\n   const navigate = useNavigate();\r\n@@ -24,9 +24,8 @@\n     try {\r\n       const res = await api.post(\"/auth/register\", formData);\r\n       console.log(\"Registered:\", res.data);\r\n \r\n-      // redirect to login page\r\n       navigate(\"/login\");\r\n     } catch (err) {\r\n       setError(err.response?.data?.message || \"Registration failed\");\r\n     }\r\n@@ -77,9 +76,8 @@\n             className=\"w-full p-2 border rounded-lg\"\r\n           />\r\n         </div>\r\n \r\n-        {/* Role selection (optional for superadmin setup) */}\r\n         <div className=\"mb-4\">\r\n           <label className=\"block mb-1 font-medium\">Role</label>\r\n           <select\r\n             name=\"role\"\r\n"
                },
                {
                    "date": 1758865508972,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -21,9 +21,9 @@\n     e.preventDefault();\r\n     setError(\"\");\r\n \r\n     try {\r\n-      const res = await api.post(\"/auth/register\", formData);\r\n+      const res = await api.post(\"/api/v1/register\", formData);\r\n       console.log(\"Registered:\", res.data);\r\n \r\n       navigate(\"/login\");\r\n     } catch (err) {\r\n@@ -101,5 +101,5 @@\n     </div>\r\n   );\r\n }\r\n \r\n-export default Register;\n\\ No newline at end of file\n+export default Register;\r\n"
                },
                {
                    "date": 1758865661607,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -21,9 +21,9 @@\n     e.preventDefault();\r\n     setError(\"\");\r\n \r\n     try {\r\n-      const res = await api.post(\"/api/v1/register\", formData);\r\n+      const res = await api.post(\"/api/v1\", formData);\r\n       console.log(\"Registered:\", res.data);\r\n \r\n       navigate(\"/login\");\r\n     } catch (err) {\r\n"
                },
                {
                    "date": 1758865975874,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -21,9 +21,9 @@\n     e.preventDefault();\r\n     setError(\"\");\r\n \r\n     try {\r\n-      const res = await api.post(\"/api/v1\", formData);\r\n+      const res = await api.post(\"/users/register\", formData);\r\n       console.log(\"Registered:\", res.data);\r\n \r\n       navigate(\"/login\");\r\n     } catch (err) {\r\n"
                },
                {
                    "date": 1758866375587,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,123 @@\n+import { useState } from \"react\";\r\n+import api from \"../services/api\";\r\n+import { useNavigate } from \"react-router-dom\";\r\n+\r\n+function Register() {\r\n+  const [formData, setFormData] = useState({\r\n+    name: \"\",\r\n+    email: \"\",\r\n+    mobile: \"\",     \r\n+    password: \"\",\r\n+    role: \"user\",\r\n+  });\r\n+\r\n+  const [error, setError] = useState(\"\");\r\n+  const navigate = useNavigate();\r\n+\r\n+  const handleChange = (e) => {\r\n+    setFormData({ ...formData, [e.target.name]: e.target.value });\r\n+  };\r\n+\r\n+  const handleSubmit = async (e) => {\r\n+    e.preventDefault();\r\n+    setError(\"\");\r\n+\r\n+    try {\r\n+      const res = await api.post(\"/users/register\", formData); // âœ… backend route matches\r\n+      console.log(\"Registered:\", res.data);\r\n+\r\n+      navigate(\"/login\");\r\n+    } catch (err) {\r\n+      setError(err.response?.data?.message || \"Registration failed\");\r\n+    }\r\n+  };\r\n+\r\n+  return (\r\n+    <div className=\"flex justify-center items-center h-screen bg-gray-100\">\r\n+      <form\r\n+        onSubmit={handleSubmit}\r\n+        className=\"bg-white p-8 rounded-xl shadow-md w-96\"\r\n+      >\r\n+        <h2 className=\"text-2xl font-bold mb-6 text-center\">Register</h2>\r\n+\r\n+        {error && <p className=\"text-red-500 mb-4\">{error}</p>}\r\n+\r\n+        {/* Name */}\r\n+        <div className=\"mb-4\">\r\n+          <label className=\"block mb-1 font-medium\">Name</label>\r\n+          <input\r\n+            type=\"text\"\r\n+            name=\"name\"\r\n+            onChange={handleChange}\r\n+            value={formData.name}\r\n+            required\r\n+            className=\"w-full p-2 border rounded-lg\"\r\n+          />\r\n+        </div>\r\n+\r\n+        {/* Email */}\r\n+        <div className=\"mb-4\">\r\n+          <label className=\"block mb-1 font-medium\">Email</label>\r\n+          <input\r\n+            type=\"email\"\r\n+            name=\"email\"\r\n+            onChange={handleChange}\r\n+            value={formData.email}\r\n+            required\r\n+            className=\"w-full p-2 border rounded-lg\"\r\n+          />\r\n+        </div>\r\n+\r\n+        {/* Mobile */}\r\n+        <div className=\"mb-4\">\r\n+          <label className=\"block mb-1 font-medium\">Mobile</label>\r\n+          <input\r\n+            type=\"text\"\r\n+            name=\"mobile\"\r\n+            onChange={handleChange}\r\n+            value={formData.mobile}\r\n+            required\r\n+            className=\"w-full p-2 border rounded-lg\"\r\n+          />\r\n+        </div>\r\n+\r\n+        {/* Password */}\r\n+        <div className=\"mb-4\">\r\n+          <label className=\"block mb-1 font-medium\">Password</label>\r\n+          <input\r\n+            type=\"password\"\r\n+            name=\"password\"\r\n+            onChange={handleChange}\r\n+            value={formData.password}\r\n+            required\r\n+            className=\"w-full p-2 border rounded-lg\"\r\n+          />\r\n+        </div>\r\n+\r\n+        {/* Role */}\r\n+        <div className=\"mb-4\">\r\n+          <label className=\"block mb-1 font-medium\">Role</label>\r\n+          <select\r\n+            name=\"role\"\r\n+            onChange={handleChange}\r\n+            value={formData.role}\r\n+            className=\"w-full p-2 border rounded-lg\"\r\n+          >\r\n+            <option value=\"user\">User</option>\r\n+            <option value=\"admin\">Admin</option>\r\n+            <option value=\"superadmin\">Super Admin</option>\r\n+          </select>\r\n+        </div>\r\n+\r\n+        <button\r\n+          type=\"submit\"\r\n+          className=\"w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition\"\r\n+        >\r\n+          Register\r\n+        </button>\r\n+      </form>\r\n+    </div>\r\n+  );\r\n+}\r\n+\r\n+export default Register;\r\n"
                },
                {
                    "date": 1758866388725,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,123 @@\n+import { useState } from \"react\";\r\n+import api from \"../services/api\";\r\n+import { useNavigate } from \"react-router-dom\";\r\n+\r\n+function Register() {\r\n+  const [formData, setFormData] = useState({\r\n+    name: \"\",\r\n+    email: \"\",\r\n+    mobile: \"\",     \r\n+    password: \"\",\r\n+    role: \"user\",\r\n+  });\r\n+\r\n+  const [error, setError] = useState(\"\");\r\n+  const navigate = useNavigate();\r\n+\r\n+  const handleChange = (e) => {\r\n+    setFormData({ ...formData, [e.target.name]: e.target.value });\r\n+  };\r\n+\r\n+  const handleSubmit = async (e) => {\r\n+    e.preventDefault();\r\n+    setError(\"\");\r\n+\r\n+    try {\r\n+      const res = await api.post(\"/users/register\", formData); \r\n+      console.log(\"Registered:\", res.data);\r\n+\r\n+      navigate(\"/login\");\r\n+    } catch (err) {\r\n+      setError(err.response?.data?.message || \"Registration failed\");\r\n+    }\r\n+  };\r\n+\r\n+  return (\r\n+    <div className=\"flex justify-center items-center h-screen bg-gray-100\">\r\n+      <form\r\n+        onSubmit={handleSubmit}\r\n+        className=\"bg-white p-8 rounded-xl shadow-md w-96\"\r\n+      >\r\n+        <h2 className=\"text-2xl font-bold mb-6 text-center\">Register</h2>\r\n+\r\n+        {error && <p className=\"text-red-500 mb-4\">{error}</p>}\r\n+\r\n+        {/* Name */}\r\n+        <div className=\"mb-4\">\r\n+          <label className=\"block mb-1 font-medium\">Name</label>\r\n+          <input\r\n+            type=\"text\"\r\n+            name=\"name\"\r\n+            onChange={handleChange}\r\n+            value={formData.name}\r\n+            required\r\n+            className=\"w-full p-2 border rounded-lg\"\r\n+          />\r\n+        </div>\r\n+\r\n+        {/* Email */}\r\n+        <div className=\"mb-4\">\r\n+          <label className=\"block mb-1 font-medium\">Email</label>\r\n+          <input\r\n+            type=\"email\"\r\n+            name=\"email\"\r\n+            onChange={handleChange}\r\n+            value={formData.email}\r\n+            required\r\n+            className=\"w-full p-2 border rounded-lg\"\r\n+          />\r\n+        </div>\r\n+\r\n+        {/* Mobile */}\r\n+        <div className=\"mb-4\">\r\n+          <label className=\"block mb-1 font-medium\">Mobile</label>\r\n+          <input\r\n+            type=\"text\"\r\n+            name=\"mobile\"\r\n+            onChange={handleChange}\r\n+            value={formData.mobile}\r\n+            required\r\n+            className=\"w-full p-2 border rounded-lg\"\r\n+          />\r\n+        </div>\r\n+\r\n+        {/* Password */}\r\n+        <div className=\"mb-4\">\r\n+          <label className=\"block mb-1 font-medium\">Password</label>\r\n+          <input\r\n+            type=\"password\"\r\n+            name=\"password\"\r\n+            onChange={handleChange}\r\n+            value={formData.password}\r\n+            required\r\n+            className=\"w-full p-2 border rounded-lg\"\r\n+          />\r\n+        </div>\r\n+\r\n+        {/* Role */}\r\n+        <div className=\"mb-4\">\r\n+          <label className=\"block mb-1 font-medium\">Role</label>\r\n+          <select\r\n+            name=\"role\"\r\n+            onChange={handleChange}\r\n+            value={formData.role}\r\n+            className=\"w-full p-2 border rounded-lg\"\r\n+          >\r\n+            <option value=\"user\">User</option>\r\n+            <option value=\"admin\">Admin</option>\r\n+            <option value=\"superadmin\">Super Admin</option>\r\n+          </select>\r\n+        </div>\r\n+\r\n+        <button\r\n+          type=\"submit\"\r\n+          className=\"w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition\"\r\n+        >\r\n+          Register\r\n+        </button>\r\n+      </form>\r\n+    </div>\r\n+  );\r\n+}\r\n+\r\n+export default Register;\r\n"
                }
            ],
            "date": 1758771961070,
            "name": "Commit-0",
            "content": "import React from 'react'\r\n\r\nconst Register = () => {\r\n  return (\r\n    <div>Register</div>\r\n  )\r\n}\r\n\r\nexport default Register"
        }
    ]
}